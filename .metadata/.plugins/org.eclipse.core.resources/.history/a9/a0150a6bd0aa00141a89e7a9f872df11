package nl.uva.td.test;

import nl.uva.td.game.GameManager;
import nl.uva.td.game.map.Field;
import nl.uva.td.game.map.GameField;
import nl.uva.td.game.map.Parser;
import nl.uva.td.game.tower.SimpleTower;

import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;

public class TestGame {

    @BeforeClass
    public static void setUpBeforeClass() throws Exception {}

    @Before
    public void setUp() throws Exception {}

    @Test
    public void towerRangeTest() {
        GameField gameField = Parser.parse();

        GameManager gameManager = new GameManager();
        gameManager.run(new SpawnSimpleCreeps(), new OneTowerPlacement(7, new SimpleTower()), gameField);

    }

    /**
     * Prints the amount of towers which can shoot at each of the fields
     *
     * @param gameField
     *            The game field to test
     */
    private void printRanges(final GameField gameField) {
        for (int x = 0; x < gameField.getGameField().length; x++) {
            for (int y = 0; y < gameField.getGameField()[x].length; ++y) {
                Field currentField = gameField.getGameField()[x][y];
                if (currentField.getTowersInRange().size() != 0) {
                    System.out.print(currentField.getTowersInRange().size());
                } else {
                    System.out.print(".");
                }
            }
            System.out.println();
        }
    }

}
